<div class="modal-body" [formGroup]="form" spellcheck="false">
  <ul
    ngbNav
    #nav="ngbNav"
    class="nav-pills"
    [activeId]="view"
    (activeIdChange)="onTypeChange($event)"
  >
    <li ngbNavItem="string">
      <a ngbNavLink>String</a>
      <ng-template ngbNavContent>
        <div class="form-group">
          <label for="value">Value</label>
          <input
            id="value"
            class="form-control"
            formControlName="value"
            placeholder="Value..."
            rdxNumber="false"
            required
          />
        </div>
      </ng-template>
    </li>

    <li ngbNavItem="number">
      <a ngbNavLink>Number</a>
      <ng-template ngbNavContent>
        <div class="form-group">
          <label for="value">Value</label>
          <input
            id="value"
            class="form-control"
            formControlName="value"
            placeholder="Value..."
            rdxNumber
            required
          />
          <small *ngIf="value.errors?.number" class="form-text text-danger">
            {{ value.errors.number }}
          </small>
        </div>
      </ng-template>
    </li>

    <li ngbNavItem="boolean">
      <a ngbNavLink>Boolean</a>
      <ng-template ngbNavContent>
        <!-- TO DO -->
      </ng-template>
    </li>

    <li ngbNavItem="json">
      <a ngbNavLink>JSON</a>
      <ng-template ngbNavContent>
        <rdx-json-editor
          formControlName="value"
          rdxJson
        ></rdx-json-editor>

        <div *ngIf="value.errors?.json" class="form-text text-danger">
          {{ value.errors.json }}
        </div>
      </ng-template>
    </li>
  </ul>

  <div class="form-group">
    <label for="key">Key</label>
    <input
      id="key"
      class="form-control"
      formControlName="key"
      placeholder="Key..."
      required
    />
  </div>

  <div [ngbNavOutlet]="nav"></div>
</div>

<div class="modal-footer">
  <button
    class="btn"
    (click)="close()"
  >
    Cancel
  </button>

  <button
    class="btn btn-primary"
    (click)="update()"
    [disabled]="form.invalid || form.pristine"
  >
    Update
  </button>

  <div class="spacer"></div>

  <button
    *ngIf="view === 'json'"
    class="btn"
    (click)="format()"
  >
    {{ jsonEditor?.pretty ? 'Uglify' : 'Beautify' }}
  </button>
</div>
